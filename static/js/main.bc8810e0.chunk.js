(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={forecast_img:"HeaderBlock_forecast_img__1C0IN",menu_btn:"HeaderBlock_menu_btn__1uiEC",top_block:"HeaderBlock_top_block__2yT__",menu_btn_img:"HeaderBlock_menu_btn_img__PYUTs"}},13:function(e,t,a){e.exports={city_wrapper:"CityBlock_city_wrapper__o_y5Z",geo_icon:"CityBlock_geo_icon__3DKIG",city_name:"CityBlock_city_name__1stIf"}},14:function(e,t,a){e.exports={forecast_wrapper:"ForecastBlock_forecast_wrapper__3uRcJ",forecast:"ForecastBlock_forecast__8aER6",degrees:"ForecastBlock_degrees__-sDRW"}},2:function(e,t,a){e.exports={overlay:"Modal_overlay__3_hIZ",modal:"Modal_modal__1lNzv",closeIcon:"Modal_closeIcon__1jLc0",cityEnter:"Modal_cityEnter__quoHz",city_enter_field:"Modal_city_enter_field__joaxr",city_find:"Modal_city_find__pppKb",search_img:"Modal_search_img__Au8FX",findLocation_btn:"Modal_findLocation_btn__2cv5Z",myLocation_img:"Modal_myLocation_img__1zZox",location_text:"Modal_location_text__4my0W",error_wrapper:"Modal_error_wrapper__3IbZM"}},36:function(e,t,a){},37:function(e,t,a){},5:function(e,t,a){e.exports={forecast_tomorrow:"ForecastDays_forecast_tomorrow__ASRr1",info:"ForecastDays_info__1nKXM",info_item:"ForecastDays_info_item__28d3S"}},64:function(e,t,a){"use strict";a.r(t);var c,n=a(1),r=a.n(n),s=a(11),i=a.n(s),o=(a(36),a(12)),d=(a(37),a(13)),l=a.n(d),j=a.p+"static/media/gps.61eeaeb3.png",u=a(0),m=function(e){var t=e.name;return Object(u.jsxs)("div",{className:l.a.city_wrapper,children:[Object(u.jsx)("div",{className:l.a.geo_icon,children:Object(u.jsx)("img",{src:j,alt:"Position"})}),Object(u.jsx)("div",{className:l.a.city_name,children:t})]})},_=a(14),b=a.n(_),p=function(e){var t,a=e.weather,c=e.main;return Object(u.jsxs)("div",{className:b.a.forecast_wrapper,children:[Object(u.jsx)("div",{className:b.a.forecast,children:(t=a.description,t.replace(/\w\S*|([\u0430-\u044f])\S*/gi,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))}),Object(u.jsxs)("div",{className:b.a.degrees,children:[Math.round(c.temp),Object(u.jsx)("span",{children:"\xb0"})]})]})},f=a(10),h=a.n(f),O=a.p+"static/media/menu.0f0af277.png",x=a(4),g=a.p+"static/media/sunny.ff1c9117.png",v=a.p+"static/media/clouds.d7583765.png",y=a.p+"static/media/rainy.3f3e3fbd.png",w=a.p+"static/media/snow.396cc600.png",N=a.p+"static/media/drizzle.d26f0f21.png",k=a.p+"static/media/haze.89a3a351.png",I=a.p+"static/media/thunder.c286a09e.png",M=a.p+"static/media/sand.f6b448c0.png",C=(c={Clouds:v,Rain:y,Clear:g,Drizzle:N,Thunderstorm:I,Snow:w,Mist:N,Smoke:k,Haze:k,Dust:k,Fog:N,Sand:M},Object(x.a)(c,"Dust",M),Object(x.a)(c,"Ash",M),Object(x.a)(c,"Squall",k),Object(x.a)(c,"Tornado",k),c),S=function(e){for(var t in C)if(e===t)return C[t]},E=function(e){var t=e.setIsModal,a=e.weather;return Object(u.jsxs)("div",{className:h.a.top_block,children:[a.main&&Object(u.jsx)("img",{src:S(a.main),className:h.a.forecast_img,alt:"Forecast"}),Object(u.jsx)("button",{className:h.a.menu_btn,onClick:function(){return t(!0)},children:Object(u.jsx)("img",{src:O,className:h.a.menu_btn_img,alt:"Menu"})})]})},L=a(5),A=a.n(L),D=a.p+"static/media/therm.d09c348b.png",B=a.p+"static/media/humidity.9a9f83b3.png",z=a.p+"static/media/gauge.676f0679.png",F=a.p+"static/media/wind.18ead477.png",R=function(e){var t=e.main,a=e.wind;return Object(u.jsx)("div",{className:A.a.forecast_tomorrow,children:Object(u.jsxs)("div",{className:A.a.info,children:[Object(u.jsxs)("div",{className:A.a.info_item,children:[Object(u.jsx)("img",{src:D,alt:"themperature"}),Object(u.jsx)("h4",{children:"\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u044f\u043a"}),Object(u.jsxs)("p",{children:[Math.round(t.feels_like),"\xb0"]})]}),Object(u.jsxs)("div",{className:A.a.info_item,children:[Object(u.jsx)("img",{src:B,alt:"humidity"}),Object(u.jsx)("h4",{children:"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c"}),Object(u.jsxs)("p",{children:[t.humidity,"%"]})]}),Object(u.jsxs)("div",{className:A.a.info_item,children:[Object(u.jsx)("img",{src:z,alt:"pressure"}),Object(u.jsx)("h4",{children:"\u0422\u0438\u0441\u043a"}),Object(u.jsxs)("p",{children:[t.pressure," \u0433\u041f\u0430"]})]}),Object(u.jsxs)("div",{className:A.a.info_item,children:[Object(u.jsx)("img",{src:F,alt:"wind speed"}),Object(u.jsx)("h4",{children:"\u0412\u0456\u0442\u0435\u0440"}),Object(u.jsxs)("p",{children:[a.speed," \u043a\u043c/\u0433\u043e\u0434"]})]})]})})},H=a(2),P=a.n(H),T=a.p+"static/media/search.725ebd85.png",Z=a(29),q=a(8),J=a(6),K=a.n(J),W=a(15),G=a(7),U=a(20),X=a.n(U),Y="https://api.openweathermap.org/data/2.5/weather?lang=uk&units=metric&appid=".concat("2f720667554e58071332a55212703508"),Q=function(e){return X.a.get("".concat(Y,"&q=").concat(e)).then((function(e){return e.data}))},V=function(e,t){return X.a.get("".concat(Y,"&lat=").concat(e,"&lon=").concat(t)).then((function(e){return e.data}))},$="ADD_WEATHER",ee="LOADING",te="SET_ERROR",ae={name:"",weather:[{main:"",description:""}],main:{temp:8.54,feels_like:6.21,pressure:1016,humidity:87},wind:{speed:4,deg:300},id:703448,isLoading:!1,error:null},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(G.a)(Object(G.a)({},e),t.payload);case ee:return Object(G.a)(Object(G.a)({},e),{},{isLoading:t.bool});case te:return Object(G.a)(Object(G.a)({},e),{},{error:t.msg});default:return e}},ne=function(e){return{type:$,payload:e}},re=function(e){return{type:ee,bool:e}},se=function(e){return{type:te,msg:e}},ie=function(e){return function(){var t=Object(W.a)(K.a.mark((function t(a){var c;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(re(!0)),t.next=3,Q(e).catch((function(e){a(se(e.response.data.message))}));case 3:c=t.sent,a(ne(c)),c&&localStorage.setItem("city",c.name),a(re(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=Object(q.b)(null,{setCoord:function(e,t){return function(){var a=Object(W.a)(K.a.mark((function a(c){var n;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(re(!0)),a.next=3,V(e,t);case 3:n=a.sent,c(ne(n)),localStorage.setItem("city",n.name),c(re(!1));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setCity:ie})((function(e){var t=e.setIsModal,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],s=c[1],i=Object(Z.usePosition)(!0,{enableHighAccuracy:!0}),d=i.latitude,l=i.longitude;return Object(u.jsx)("div",{className:P.a.overlay,children:Object(u.jsxs)("div",{className:P.a.modal,children:[Object(u.jsx)("button",{className:P.a.closeIcon,onClick:function(){return t(!1)},children:"\xd7"}),Object(u.jsxs)("form",{className:P.a.cityEnter,onSubmit:function(a){return function(a){a.preventDefault(),e.setCity(r),t(!1)}(a)},children:[Object(u.jsx)("input",{className:P.a.city_enter_field,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u043c\u0456\u0441\u0442\u043e",onChange:function(e){return s(e.target.value)},value:r}),Object(u.jsx)("button",{className:P.a.city_find,type:"submit",children:Object(u.jsx)("img",{src:T,className:P.a.search_img,alt:"Search"})})]}),Object(u.jsx)("div",{className:P.a.findLocation,children:Object(u.jsxs)("button",{className:P.a.findLocation_btn,onClick:function(){e.setCoord(d,l),t(!1)},children:[Object(u.jsx)("img",{src:j,className:P.a.myLocation_img,alt:"Position"}),Object(u.jsx)("span",{className:P.a.location_text,children:" \u041c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u0437\u043d\u0430\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f "})]})})]})})})),de=function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"loader-container",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]}),Object(u.jsx)("div",{className:"spinner-container",children:Object(u.jsxs)("div",{className:"spinner-path",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})]})},le=a.p+"static/media/triangle.12e2a5cc.svg",je=function(e){var t=e.error,a=e.setAPIError;return Object(u.jsx)("div",{className:P.a.overlay,children:Object(u.jsxs)("div",{className:P.a.modal,children:[Object(u.jsx)("button",{className:P.a.closeIcon,onClick:function(){return a(null)},children:"\xd7"}),Object(u.jsxs)("div",{className:P.a.error_wrapper,children:[Object(u.jsx)("img",{src:le,alt:""}),Object(u.jsx)("h3",{children:t})]})]})})},ue=Object(q.b)((function(e){return{main:e.main,name:e.name,weather:e.weather,wind:e.wind,loading:e.isLoading,error:e.error}}),{setCity:ie,setAPIError:function(e){return function(){var t=Object(W.a)(K.a.mark((function t(a){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(se(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){localStorage.getItem("city")?e.setCity(localStorage.getItem("city")):r(!0)}),[]),e.loading?Object(u.jsx)(de,{}):Object(u.jsxs)("div",{className:"main_app",children:[Object(u.jsx)(E,{weather:e.weather[0],setIsModal:r}),Object(u.jsx)(m,{name:e.name}),Object(u.jsx)(p,{main:e.main,weather:e.weather[0]}),Object(u.jsx)(R,{main:e.main,wind:e.wind}),c&&Object(u.jsx)(oe,{setIsModal:r}),e.error&&Object(u.jsx)(je,{error:e.error,setAPIError:e.setAPIError})]})})),me=a(9),_e=a(31),be=Object(me.c)(ce,Object(me.a)(_e.a));i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(q.a,{store:be,children:Object(u.jsx)(ue,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.bc8810e0.chunk.js.map